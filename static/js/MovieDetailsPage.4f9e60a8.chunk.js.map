{"version":3,"file":"static/js/MovieDetailsPage.4f9e60a8.chunk.js","mappings":"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","sources":["views/MovieDetailsPage.jsx"],"sourcesContent":["import { useState, useEffect, lazy, Suspense } from 'react';\nimport { NavLink, Switch, Route, useParams, useHistory, useLocation } from 'react-router-dom';\nimport Loader from '../components/Loader'\nimport { fetchMoviesId, IMAGE_URL } from '../services/Api';\nimport styles from '../components/Navigation/Navigation.module.css';\n\n\nconst Cast = lazy(() => import('./Cast') /* webpackChunkName: \"Cast\" */);\nconst Reviews = lazy(() => import('./Reviews') /* webpackChunkName: \"Reviews\" */);\n\nexport default function MovieDetailsPage() {\n    const history = useHistory();\n    const location = useLocation();\n\n\n    const { movieId } = useParams();\n    const [movie, setMovie] = useState(null);\n    \n    let locationValue = location.state;\n    if (location.state) {\n        locationValue = location.state.from;\n    }\n    \n    useEffect(() => {\n        fetchMoviesId(movieId).then(movie => {\n            setMovie(movie);\n        });\n    }, [movieId]);\n\n    const onGoBack = () => {\n        if (!location.state) {\n            history.push('/');\n            return;\n        }\n        \n        history.push(`${location.state.from.pathname}${location.state.from.search}`)\n\n        }\n\n\n    return (\n        <>\n            {movie && (\n                <>\n                    <button type=\"button\" className=\"Button\" onClick={onGoBack}>â‡š Go Back</button>\n\n                    <div className=\"DetailsPage\">\n                        <img src={IMAGE_URL + movie.poster_path} alt={movie.title} className=\"DetailsPage_img\" />\n                        <div>\n                            <h2>{movie.title}</h2>\n                            <p><span>Rating: </span>{movie.vote_average}</p>\n                            <p><span>Overview: </span>{movie.overview}</p>\n                            <p><span>Genres: </span>{movie.genres.map(genre => genre.name).join(' ')}</p>\n                        </div>\n                    </div>\n\n                    <hr />\n\n                    <h3>Additional information</h3>\n            \n                    <nav>\n                        <NavLink\n                            to={{\n                                pathname: `/movies/${movieId}/cast`,\n                                state: { from: locationValue }\n                            }}\n                            className={styles.link}\n                            activeClassName={styles.activeLink}\n                        >\n                            Cast\n                        </NavLink>\n\n                        <NavLink\n                            to={{\n                                pathname: `/movies/${movieId}/reviews`,\n                                state: { from: locationValue }\n                            }}\n                            className={styles.link}\n                            activeClassName={styles.activeLink}\n                        >\n                            Reviews\n                        </NavLink>\n                    </nav>\n\n                    <hr />\n                    \n                    <Suspense fallback={<Loader />}>\n                        <Switch>\n                            <Route path={`/movies/${movieId}/cast`}>\n                                <Cast movieId={movieId} />\n                            </Route>\n\n                            <Route path={`/movies/${movieId}/reviews`}>\n                                <Reviews movieId={movieId} />\n                            </Route>\n                    </Switch>\n                    </Suspense>\n                </>\n            )}\n        </>\n    )\n};"],"names":["Cast","lazy","Reviews","MovieDetailsPage","history","useHistory","location","useLocation","movieId","useParams","_useState","useState","_useState2","_slicedToArray","movie","setMovie","locationValue","state","from","useEffect","fetchMoviesId","then","_jsx","_Fragment","children","_jsxs","type","className","onClick","push","concat","pathname","search","src","IMAGE_URL","poster_path","alt","title","vote_average","overview","genres","map","genre","name","join","NavLink","to","styles","activeClassName","Suspense","fallback","Loader","Switch","Route","path"],"sourceRoot":""}